<body>
  <div class="slider-container">
    <input type="range" min="-1" max="1" value="0" step="0.1" class="slider" id="slider">
  </div>
  <p id="display">
    
  </p>
</body>
<script>
  


  async function start () {
      const audioContext = new AudioContext();
      console.log("before");
      await audioContext.audioWorklet.addModule("white-noise-processor.js");
      console.log("after");
      const whiteNoiseNode = new AudioWorkletNode(
        audioContext,
        "white-noise-processor",
      );
      whiteNoiseNode.connect(audioContext.destination);
      setTimeout(() => change(whiteNoiseNode, audioContext), 1000);
  }

  function change (whiteNoiseNode, audioContext) {
    console.log("ran");
    const gainParam = whiteNoiseNode.parameters.get("customGain");
    console.log(gainParam);
    gainParam.setValueAtTime(0, audioContext.currentTime);
    gainParam.linearRampToValueAtTime(0, audioContext.currentTime + 0.5);
  }

document.addEventListener("click", start);
  
// recurse();

</script>
